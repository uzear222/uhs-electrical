<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta
  name="google-site-verification"
  content="mkv4KHYM65f2Xef_fBbgi7L_wJq1sQQIpdf3IPMqUsQ"
   />
  <title>UHS Electrical</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="style.css">
  <!--<style>
	nav {
      background-color: #0059b3;
      padding: 12px;
      text-align: center;
    }
  </style>-->
</head>
<body>
<main>
  <section class="hero">
    <h1>Welcome to UHS Electrical</h1>
    <p>Your one-stop solution: <strong>"Powering Your Digital World"</strong></p>
    <!-- ❌ Direct link removed, JS will handle redirection -->
    <button class="btn" id="exploreBtn">Shopping Area</button><br><br>
    <nav>
    <a href="page2.html"><u><b>Explore Services</b></u></a>
    </nav>
  </section>

  <!-- 🔹 Registration Form -->
  <h2 align="center">Register for Our Services</h2>
<form id="registrationForm">
  <label for="regName">Your Name</label>
  <input type="text" id="regName" required>

  <label for="regNumber">Your Phone Number</label>
  <input type="tel" id="regNumber" required>

  <label for="regEmail">Your Email</label>
  <input type="email" id="regEmail" required>

  <button type="submit">Register</button>
</form>

<p align="center" id="form-message" style="color:green; display:none;">
  Thank you! We will contact you soon.
</p>

  <p align=center id="form-message" style="color:green; display:none;">
    Thank you! We will contact you soon.
  </p>

  <!-- 🔸 Review Form -->
  <section id="review">
    <h2 align="center">Submit a Review</h2>
    <form id="reviewForm">
      <input type="text" id="reviewName" placeholder="Your Name" required>
      <input type="email" id="reviewEmail" placeholder="Your Email" required><br>
      <textarea id="reviewMessage" placeholder="Your Review" required></textarea>
      <button type="submit">Submit Review</button>
    </form>
    <p align="center" id="review-success" style="color:green; display:none;">
      Review submitted successfully!
    </p>
  </section>
</main>

<footer>
  <p>&copy; 2025 UHS Electrical</p>
  <p>Call: <a href="tel:+918156005721">+91 81560 05721</a> |
    Email: <a href="mailto:uhselectrical@gmail.com">uhselectrical@gmail.com</a></p>
</footer>

<!-- ✅ Firebase + Logic -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
  import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAIF0mh224jNWKeb981w9-bQf243c9PKtQ",
    authDomain: "uhs-electrical.firebaseapp.com",
    databaseURL: "https://uhs-electrical-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "uhs-electrical",
    storageBucket: "uhs-electrical.appspot.com",
    messagingSenderId: "1078862466393",
    appId: "1:1078862466393:web:71690cc373bfae245c1048"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // 🔹 Handle Registration Form
  document.getElementById("registrationForm").addEventListener("submit", function(e) {
    e.preventDefault();

    const name = document.getElementById("regName").value.trim();
    const number = document.getElementById("regNumber").value.trim();
    const email = document.getElementById("regEmail").value.trim();

    if (name !== "" && number !== "" && email !== "") {
      push(ref(db, "registrations"), {
        name, number, email,
        timestamp: new Date().toISOString()
      });

      // ✅ Save registration status locally
      localStorage.setItem("isRegistered", "true");

      document.getElementById("form-message").style.display = "block";
      this.reset();

      setTimeout(() => {
  window.location.href = "page2.html";
}, 1500); // 1.5 second ke baad page2 pe redirect
    }
  });

  // 🔸 Handle Review Form
  document.getElementById("reviewForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const name = document.getElementById("reviewName").value.trim();
    const email = document.getElementById("reviewEmail").value.trim();
    const message = document.getElementById("reviewMessage").value.trim();

    push(ref(db, "reviews"), {
      name, email, message,
      timestamp: new Date().toISOString()
    });

    document.getElementById("review-success").style.display = "block";
    this.reset();
  });

  // 🔸 Explore Button → Conditional Navigation
  document.getElementById("exploreBtn").addEventListener("click", function() {
    const registered = localStorage.getItem("isRegistered");
    if (registered === "true") {
      window.location.href = "index.html";
    } else {
      alert("Please register first before exploring services.");
    }
  });
</script>

</body>
</html>